<%- include('../user/user_partials/header.ejs') %>

    <div class="container py-4" style="min-height: 100vh;">
        <h5 class="my-2 text-success">Moderator List</h5>
    <% if(data.length==0){ %>
        <p class="text-center text-dark">No school</p>
    <% }else{ %>
        <div class="table-responsive">
            <table class="tablealign-middle mb-0">
                <thead">
                  <tr>
                    <th>Info</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                    <% for(let s of data){ %>
                        <tr>
                            <td>
                              <div class="d-flex align-items-center">
                                <img
                                    src="<%= s.avater ?  s.avater  : '/images/moderator.png'  %>"
                                    alt=""
                                    style="width: 45px; height: 45px"
                                    class="rounded-circle"
                                    />
                                <div class="ms-3">
                                  <p class="fw-bold mb-1"><%= s.name %></p>
                                 
                                </div>
                              </div>
                            </td>
                          
                            <td>
                              <span><%= s.username %></span>
                            </td>
                            <td> <%= s.email %></td>
                            <td>
                              <a class="btn btn-link btn-sm btn-rounded" href="/moderator/register-moderator?edit=true&id=<%=s.id%>">
                                <i class='bx bxs-edit-alt'></i>
                                Edit
                              </a>
                            </td>
                          </tr>
                    <% } %>
                 
                
                </tbody>
              </table>
        </div>
        
        <% }%>
        <div class="d-flex justify-content-end mt-2">
            <nav aria-label="...">
                <ul class="pagination">
                  <li class="page-item <%= currentPage === 1 ? 'disabled' : '' %>"  >
                    <a  href="/moderator/registerd-moderator?page=<%=currentPage-1 %>" class="page-link" >Previous</a>
                  </li>
                  <% for(let i=0; i< totalPage; i++) {%> 
                    <li class="page-item  <%= currentPage == i+1 ? "active" : "" %> "><a class="page-link" href="/moderator/registerd-moderator?page=<%=i+1 %>"><%= i+1 %> </a></li>
                  <% }%> 
                  <li class="page-item <%= currentPage >= totalPage ? 'disabled' : '' %>"  >
                    <a class="page-link" href="/moderator/registerd-moderator?page=<%=currentPage+1 %>">Next</a>
                  </li>
                </ul>
              </nav>
          </div>
    </div>
    </script>
    <%- include('../user/user_partials/footer.ejs') %>